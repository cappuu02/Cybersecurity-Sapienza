## XDSL (digital subscriber line)

```ad-abstract
title: Definition
**DSL** (or xDSL), is a family of technologies that provide digital data transmission over the wires of a local telephone network. Used to transmit digital data over telephone lines.


```

>we have $n$ different cables for $n$ different users

Every end-user has got a twisted pair (doppino) (means two copper lines)
## Wiring schematic pre-DSL

![[Network Infrastructures/images/18.png]]

## Analog (or V.90) modems
![[Network Infrastructures/images/19.png]]

$$C = B \cdot \log_2(1+SNR)$$
- C: Capacity (maximum bitrate)
- B: Bandwidth (length in Hz is used)
- SNR: ratio power signal (power y noise)

>Valori di SNR più alti (noise < power) indica una qualità migliore del segnale ma con incrementi piccoli della Capacità

>Valori di SNR più bassi (noise > power) indica una qualità peggiore del segnale e con incrementi piccoli della Capacità

>Larghezza di banda $B$: Ha un effetto lineare sulla capacità $C$. Più banda disponibile, maggiore capacità
## Asymmetric ADSL
Original market driver: distribution of video on demand (VoD) (failed for this target)
An ADSL local loop is for the exclusive use of the subscriber and provides for passive transmission of analog voice service. The distinguishing characteristic of ADSL over other forms of DSL is that the volume of data flow is greater in one direction than the other

>Higher bandwidth
>Use two separate frequency bands (upstream and downstream bands) 

>Asymmetric because downstream is higer then downstream.
### ADSL frequency bands
Before, in the past, we had only 4Khz of bandit.
Now they extend the bandit.
**Upstream**: used for communication from the end user to the telephone central office (from client to network)
**Downstream**: used for communicating from the central office to the end user (from central office to home)

With standard ADSL, the band from 25.875 kHz to 138 kHz is used for upstream communication, while 138 kHz –1104 kHz is used for downstream communication
![[Network Infrastructures/images/20.png]]

## ADSL Frequency Allocation
Interference occurs when two or more communications overlap simultaneously in time or frequency, disrupting the clarity or quality of the transmitted signals.In ADSL we have separation of frequence.

**speedup bitrate for downstream**: to increase it, an idea is to use also the bandit of the upstream.

```ad-info
title: Remember
If two or more users transmit on the same frequency simultaneously, their signals will interfere with each other, leading to potential disruption and loss of communication quality.

```

![[Network Infrastructures/images/21.png]]
Necessità di gestire la collisione a causa di un aumento della banda affinché il downstream abbia migliori prestazioni.
## Cross talks
Copper cables interfere not with every cables, only with cables sharing own binder group.
Bigger cable with multiple coppers cables.

Wires sharing the same cable interfere one each other
![[Network Infrastructures/images/22.png]]

Exists two kinds of cross-talk noise (Rumore di fondo):
- Far-end cross talk: FEXT
- near-end cross talk: NEXT

Depend on:
- The **power spectral density** of the transmitted signal
- The **number of twisted pairs** in the same cable
- The **overlapping of bandwidths** of the useful signal and the interfering ones

Crosstalk typically increases with frequency $\to$ significant impairment for high speed DSL

### FEXT 
```ad-abstract
title: Definition
FEXT Is the cross-talk between a transmitter and a receiver placed on opposite sides of the cable. FEXT signals travel the entire length of the channel.

```

>Interference at the receiver generated by cable where transmitter is far

Since for ADSL “short” cables are used, the signal carried on other pairs, even though coming from far away, are not strongly attenuated and create interferences that affect other pairs. To reduce this kind of noise a cable usually doesn't contain more
than a dozen twisted pairs.

![[Network Infrastructures/images/23.png]]
È un'interferenza (crosstalk) che si verifica tra un trasmettitore (TX) e un ricevitore (RX) posizionati su lati opposti del cavo. Il segnale FEXT viaggia per l'intera lunghezza del canale. Si manifesta quando il segnale di un trasmettitore interferisce con il ricevitore di un'altra coppia di cavi nella stessa direzione.

1. Contemporary transmission can append.
2. Same bandit (downstream).
3. Can we have two downstream at the same frequency? No!

```ad-success
title: Solution
Reduce number of cables in the binder group.

```
### NEXT
```ad-abstract
title: Definition
NEXT is the cross-talk between a transmitter and a receiver placed on the same side of the cable;

```
Receiver's signals are softer than transmitter's one, since come from far away and thus there is a strong interference which reduces quality of useful received data.

>NEXT is one of the reason of the frequency division for upstream and downstream in ADSL

![[Network Infrastructures/images/24.png]]
Cross talk between a TX and a RX placed on the same side of cable.

>dentro lo stesso binder nel cabinet

>Cross talks increases with frequency and with number of twisted pairs in the same cable (FEXT).

```ad-success
title: Solution
Reduce the echo cancellation.

```
## Filtering
To solve, it is necessary to install appropriate **frequency filters** at the customers premises to avoid interferences with the voice service. Splitter is installed before connecting the line
to phone / DSL modem.

## Echo cancelled
![[Network Infrastructures/images/25.png]]

## Reduce NEXT or FDD
![[Network Infrastructures/images/26.png]]

## ADSL Modulations

### DMT (discrete multi-tone)
A mandatory requirement for transmission is that the attenuation is flat.

Divide the operational ADSL bandwidth into very small subchannles
- Discrete carriers (or tones) are used in the center of each data subchannel
- These carriers are used to transmit data independently in each subcarrier by means of a specified QAM modulation.

>based on FDM to support DSL. Attenuation and channel behavior is completely different.

Channel behavior: 
Nice idea: instead of considering this bandit has unique bandit let has divide this bandit in multiple pieces. Each of this has 4 Khz. 
- Multiple transmission contemporary TON in the same frequency.
![[Network Infrastructures/images/27.png]]

Independent subchannels can be manipulated individually with consideration of the line conditions
- If a subchannel is experiencing external interference it may not be used in favor of other subchannels
- DMT can dynamically adapt the data rate to the line conditions

We have:
- 25 channel upstream
- 245 channel downstream
- each piece is 4 kHz

Theoretical maximum upstream bandwidth:
25 pieces (channel)
$$25 \hspace{0.3cm} \text{channel} \times 15 \hspace{0.2cm} \text{bits/Hz/channel} \times 4 \hspace{0.2cm} \text{kHz} =  1.5 \hspace{0.3cm} \text{Mbit/s}$$
Theoretical maximum downstream bandwidth:
$$249 \hspace{0.3cm} \text{channel} \times 15 \hspace{0.2cm} \text{bits/Hz/channel} \times 4 \hspace{0.2cm} \text{kHz} 1.5 \hspace{0.3cm} \text{Mbit/s}$$

```ad-success
title: To be clear
Quando la Central Office (CO) trasmette un segnale, questo non viene inviato su un unico percorso, ma viene suddiviso in 249 canali separati. Questo processo consiste nel prendere il flusso di bit destinato alla trasmissione in downstream e dividerlo in 249 parti, ciascuna assegnata a un canale specifico. Questa suddivisione consente una trasmissione parallela, migliorando l'efficienza e la resistenza ai disturbi o alle interferenze.

```

```ad-question
If i have a more larger channel, the bitrate will be increase.

```

In downstream, the splitting is not uniform, not equally distributed, the attenuation is flat but the value of attenuation is different. The balancing depends on the single channel.
We can have:
- Strong attenuation: signal is dramatic attenuated.

>the balancing depends on the attenuation i have in a specific channel.

Bitrate (kHz) depends on the length of the piece.
Bitrate increase if we aggregate many pieces.

```ad-attention

There is a frequency or a small frequency band of 4 kHz where the attenuation is dramatically alterated. What we are going to do? Not use it
```

![[Network Infrastructures/images/28.png]]

- We divided in pieces
- Each piece has an attenuation
- Attenuation are different

>The bitrate in each piece is lower or higher in the bitrate of full bandit? Is lower!
>Bitrate depends on the length of the piece.

### Water Filling
>Algorithm to implement the DMT
- The signal power for each subcarrier is determined as the depth of the liquid in a pool
- Knowing the discrete values of $p(f_k)$ for each subcarrier $f_k$ one may deduce the number of bit per symbol to associate to the QAM costellation used in each subchannel

![[Network Infrastructures/images/29.png]]
![[105.png]]
>More water $\to$ the noise is lower.

$(\frac{S}{N})^{-1}$ Is the noise to the power signal

Algorithm do this: distributes the bit stream in different manner on the cases of the inverse of the signal to noise cancellation
## ADSL: Modulation
There are two types of modulation, CAP and DMT standards for ADSL.
- Adaptive equalizer is required for CAP since noise characteristics vary significantly across the frequency passband.
- DMT has the speed advantage over CAP.
- DSP advances will enable the technologies to converge in cost and function
## ADSL reference model (Architecture Model)
![[Network Infrastructures/images/53.png]]
![[Network Infrastructures/images/54.png]]
==Router ISP==: fornisce l'accesso ad internet tramite una WAN. Un modem analogico viene utilizzato per connettersi alla rete pubblica.

Central Office
- ==splitter==: dispositivo che separa i segnali della linea telefonica dal segnale DSL
- ==DSLAM==: Si occupa di aggregare i segnali DSL dai client ed inoltrarli ad internet (device that receive multiple strings and output with unique string)
- ==Switch==: smista le chiamate del sistema pots

UTP classico cavo di rame (doppino) poi uno splitter finale che separa sempre il segnale della linea telefonica dal segnale DSL.

## Details on an End-to-End Design

![[Network Infrastructures/images/52.png]]
## ADSL Architecture Protocol- Network Side
![[Network Infrastructures/images/56.png]]
![[Network Infrastructures/images/55.png]]
![[Network Infrastructures/images/57.png]]
for the adsl (interface between the CO and End user) we have specific protocols.
protocols: physical part 

communication we need to represent all the function that are performing in the communications and this function are presented under the so called protocols stack.
All the functions are presented as layers (each layer performs a set of functions)
The layer of the ADSL are these figurate in this picture.

==ADSL==: physical layer
==ATM==: 
==AAL5==: 
==PPP==: (point to point protocol) 

![[Network Infrastructures/images/64.png]]
in our home the protocol respect to ADSL are completely different.
## Point to Point Protocol

```ad-abstract
title: Definitions
Protocol at the link layer specifically used in the configuration of ADSL where we have only two devices interconnected. PPP designed for simple links to transport packets between two peers

```

- PPP permette di trasportare più protocolli di rete (ad esempio, IP e IPv6) sullo stesso cavo o collegamento fisico, ma non crea collegamenti fisici separati.
- PPP provides a **Link Control Protocol** (LCP) which negotiates the establishment and termination of a PPP link.
	- at layer 2 we don't need any kind of multiple access protocols.
	- Link is something "secret"
- LCP also **negotiates** the options for encapsulation format, authentication and link quality monitoring


It is used together with ADSL for its ability to directly connect the user to the Central Office of its ISP and its important functions like: 
- authentication
- authorization 
- automatic configuration of network interfaces 
- DHCP support.

In the majority of European countries ADSL is based on the ATM protocol so PPP is encapsulated inside ATM cells (PPPoA). Nonetheless ADSL can stand on top of Ethernet and be incapsulated in Ethernet Frames (PPPoE).

![[Network Infrastructures/images/58.png]]

![[Network Infrastructures/images/59.png]]

the link control layer is performed by two functions:
-  Link control protocol
- Network control protocol

>On top there is IP 

### PPP Encapsulation
The Protocol field identifies the datagram encapsulated in the information field.

![[Network Infrastructures/images/60.png]]
- The **name** of this packet is frame: packet at the link layer has this flag
- **Flag start and ending (frame)**: two bytes, used to recognized the start and ending of the frame, because the packet is supposed to have a variable length.
-  **address**: all 1 = broadcast = packet direct to all (not important to specify because we are in PPP, so connection between two point)
- **control**
- **protocol**: 1 byte (Identifies the datagram encapsulated in the information field)
- **info**: the content of upper layer (full ip packet) (Information filed contains the datagram and could be zero or more octets)
- **check**: control if packet is correct (check the integrity of the packet)

>You don't have in the frame packet any information on the length of the frame. (we do not have the length)

to remind again: 
- physical layer (ADSL) 
- then we have a sort of link adaptation 
- then there is PPP (layer 2)
- IP (layer 3)

### PPP Link Operation
![[Network Infrastructures/images/61.png]]
#### Link Establishment Process
![[Network Infrastructures/images/62.png]]

1. Configure request message is sent to request a link establishment and it contains various option
2. This request is responded with:
	1. Configure-Ack: if the negotiation is accepted
	2. Configure-Nak: If the negotiation is not acceptable and it suggest an acceptable negotiation
### Authentication
![[Network Infrastructures/images/63.png]]

>Still talk about authentication of ADSL.

Authentication Option uses **Password Authentication Protocol (PAP)** or **Challenge Handshake Authentication Protocol (CHAP**).
- The protocol used depends on negotiation.
- CHAP uses a one-way hashing algorithm which is known only to the user, to respond to a challenge sent by the authenticator.
- CHAP is more secure than PAP

## VDSL Architecture
Evolution of ADSL is VDSL (**Very High-speed Digital Subscriber Line**)
very high bitrate.
VDSL mix of copper based and fiber based.

![[Network Infrastructures/images/65.png]]

==ONU==: is an element where the interconnection of copper with fiber is done. ONU is not in the CO, it is placed in the cabinet (part of the cabinet).

![[Network Infrastructures/images/66.png]]
**FTTE**: Fiber to the exchange
**FTTC**: Fiber to the cabinet (ONU in the cabinet) fiber from OLT to ONU and the home termination connection is made up with copper cable.

![[Network Infrastructures/images/67.png]]
To grow the bitrate also the communication in copper cable appends at higher frequency.
FDD: downstream and upstream to difference frequency and larger bandit.
TDD: downstream and upstream in the same bandit with time suddivision. (can append an overlapping = interference). Solution: Upstream and downstream does not communicate contemporary but they alternate in time. Thanks to this i can have both at high frequency.

![[Network Infrastructures/images/68.png]]

```ad-info
title: Remember
When we increase the bandit we can transmit at higher bitrate.

```

```ad-attention
There is a problem: shorter copper cables + and higher frequency = higher FEXT
Why?  In the ADSL we do not care about FEXT because is far and the frequency is not so high, now we are increasing the frequency and the cables are more short.

```
## VDSL Vectoring (Solution)

```ad-abstract
title: Vectoring
VDSL Vectoring is a trasmission method that employs the coordination of the signals for reduction of crosstalk and improvement of performance.

```

>Technology help to cover problem related to cross talk. 

![[Network Infrastructures/images/69.png]]

Who measure the interference? ==The receiver!!!==

Crosstalk cancelling by injecting an “anti-signal” on each crosstalk-impaired line
![[Network Infrastructures/images/71.png]]

mechanism:
1. let me know what is your amount of interference.
2. given back to transmitter and shape its transmission in order to recover that interference.

![[Network Infrastructures/images/70.png]]
We sent a test signal hat is like a flat signal
receiver, has the signal with frequency (change during transmission)
trasmitter receive back the information about the amount of interference
after that, transmitter procede to send this work signal, thanks to the previous information received.